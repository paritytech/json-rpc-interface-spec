<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>chainHead_unstable_follow</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../why-json-rpc.html"><strong aria-hidden="true">1.1.</strong> Why JSON-RPC?</a></li></ol></li><li class="chapter-item expanded "><a href="../api/introduction.html"><strong aria-hidden="true">2.</strong> API specification</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../api/archive.html"><strong aria-hidden="true">2.1.</strong> archive</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../api/archive_unstable_body.html"><strong aria-hidden="true">2.1.1.</strong> archive_unstable_body</a></li><li class="chapter-item expanded "><a href="../api/archive_unstable_genesisHash.html"><strong aria-hidden="true">2.1.2.</strong> archive_unstable_genesisHash</a></li><li class="chapter-item expanded "><a href="../api/archive_unstable_hashByHeight.html"><strong aria-hidden="true">2.1.3.</strong> archive_unstable_hashByHeight</a></li><li class="chapter-item expanded "><a href="../api/archive_unstable_header.html"><strong aria-hidden="true">2.1.4.</strong> archive_unstable_header</a></li><li class="chapter-item expanded "><a href="../api/archive_unstable_stopBody.html"><strong aria-hidden="true">2.1.5.</strong> archive_unstable_stopBody</a></li><li class="chapter-item expanded "><a href="../api/archive_unstable_stopHashByHeight.html"><strong aria-hidden="true">2.1.6.</strong> archive_unstable_stopHashByHeight</a></li><li class="chapter-item expanded "><a href="../api/archive_unstable_stopHeader.html"><strong aria-hidden="true">2.1.7.</strong> archive_unstable_stopHeader</a></li><li class="chapter-item expanded "><a href="../api/archive_unstable_stopStorage.html"><strong aria-hidden="true">2.1.8.</strong> archive_unstable_stopStorage</a></li><li class="chapter-item expanded "><a href="../api/archive_unstable_storage.html"><strong aria-hidden="true">2.1.9.</strong> archive_unstable_storage</a></li></ol></li><li class="chapter-item expanded "><a href="../api/chainHead.html"><strong aria-hidden="true">2.2.</strong> chainHead</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../api/chainHead_unstable_body.html"><strong aria-hidden="true">2.2.1.</strong> chainHead_unstable_body</a></li><li class="chapter-item expanded "><a href="../api/chainHead_unstable_call.html"><strong aria-hidden="true">2.2.2.</strong> chainHead_unstable_call</a></li><li class="chapter-item expanded "><a href="../api/chainHead_unstable_follow.html" class="active"><strong aria-hidden="true">2.2.3.</strong> chainHead_unstable_follow</a></li><li class="chapter-item expanded "><a href="../api/chainHead_unstable_genesisHash.html"><strong aria-hidden="true">2.2.4.</strong> chainHead_unstable_genesisHash</a></li><li class="chapter-item expanded "><a href="../api/chainHead_unstable_header.html"><strong aria-hidden="true">2.2.5.</strong> chainHead_unstable_header</a></li><li class="chapter-item expanded "><a href="../api/chainHead_unstable_stopBody.html"><strong aria-hidden="true">2.2.6.</strong> chainHead_unstable_stopBody</a></li><li class="chapter-item expanded "><a href="../api/chainHead_unstable_stopCall.html"><strong aria-hidden="true">2.2.7.</strong> chainHead_unstable_stopCall</a></li><li class="chapter-item expanded "><a href="../api/chainHead_unstable_stopStorage.html"><strong aria-hidden="true">2.2.8.</strong> chainHead_unstable_stopStorage</a></li><li class="chapter-item expanded "><a href="../api/chainHead_unstable_storage.html"><strong aria-hidden="true">2.2.9.</strong> chainHead_unstable_storage</a></li><li class="chapter-item expanded "><a href="../api/chainHead_unstable_unfollow.html"><strong aria-hidden="true">2.2.10.</strong> chainHead_unstable_unfollow</a></li><li class="chapter-item expanded "><a href="../api/chainHead_unstable_unpin.html"><strong aria-hidden="true">2.2.11.</strong> chainHead_unstable_unpin</a></li><li class="chapter-item expanded "><a href="../api/chainHead_unstable_wasmQuery.html"><strong aria-hidden="true">2.2.12.</strong> chainHead_unstable_wasmQuery</a></li></ol></li><li class="chapter-item expanded "><a href="../api/chainSpec.html"><strong aria-hidden="true">2.3.</strong> chainSpec</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../api/chainSpec_unstable_chainName.html"><strong aria-hidden="true">2.3.1.</strong> chainSpec_unstable_chainName</a></li><li class="chapter-item expanded "><a href="../api/chainSpec_unstable_genesisHash.html"><strong aria-hidden="true">2.3.2.</strong> chainSpec_unstable_genesisHash</a></li><li class="chapter-item expanded "><a href="../api/chainSpec_unstable_properties.html"><strong aria-hidden="true">2.3.3.</strong> chainSpec_unstable_properties</a></li></ol></li><li class="chapter-item expanded "><a href="../api/extrinsic.html"><strong aria-hidden="true">2.4.</strong> extrinsic</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../api/extrinsic_unstable_submitAndWatch.html"><strong aria-hidden="true">2.4.1.</strong> extrinsic_unstable_submitAndWatch</a></li><li class="chapter-item expanded "><a href="../api/extrinsic_unstable_unwatch.html"><strong aria-hidden="true">2.4.2.</strong> extrinsic_unstable_unwatch</a></li></ol></li><li class="chapter-item expanded "><a href="../api/rpc.html"><strong aria-hidden="true">2.5.</strong> rpc</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../api/rpc_methods.html"><strong aria-hidden="true">2.5.1.</strong> rpc_methods</a></li></ol></li><li class="chapter-item expanded "><a href="../api/sudo.html"><strong aria-hidden="true">2.6.</strong> sudo</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../api/sudo_unstable_addReservedPeer.html"><strong aria-hidden="true">2.6.1.</strong> sudo_unstable_addReservedPeer</a></li><li class="chapter-item expanded "><a href="../api/sudo_unstable_pendingExtrinsics.html"><strong aria-hidden="true">2.6.2.</strong> sudo_unstable_pendingExtrinsics</a></li><li class="chapter-item expanded "><a href="../api/sudo_unstable_removeReservedPeer.html"><strong aria-hidden="true">2.6.3.</strong> sudo_unstable_removeReservedPeer</a></li><li class="chapter-item expanded "><a href="../api/sudo_unstable_rotateKeys.html"><strong aria-hidden="true">2.6.4.</strong> sudo_unstable_rotateKeys</a></li><li class="chapter-item expanded "><a href="../api/sudo_unstable_version.html"><strong aria-hidden="true">2.6.5.</strong> sudo_unstable_version</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="chainhead_unstable_follow"><a class="header" href="#chainhead_unstable_follow">chainHead_unstable_follow</a></h1>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>runtimeUpdates</code>: A boolean indicating whether the events should report changes to the runtime.</li>
</ul>
<p><strong>Return value</strong>: String containing an opaque value representing the subscription.</p>
<p>This functions lets the JSON-RPC client track the state of the head of the chain: the finalized, non-finalized, and best blocks.</p>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<p>This function works as follows:</p>
<ul>
<li>
<p>When called, returns an opaque <code>followSubscriptionId</code> that can used to match events and in various other <code>chainHead</code>-prefixed functions.</p>
</li>
<li>
<p>Later, generates an <code>initialized</code> notification (see below) containing the hash of the current finalized block, and, if <code>runtimeUpdates</code> is <code>true</code>, the runtime specification of the runtime of the current finalized block.</p>
</li>
<li>
<p>Afterwards, generates one <code>newBlock</code> notification (see below) for each non-finalized block currently in the node's memory (including all forks), then a <code>bestBlockChanged</code> notification. The notifications must be sent in an ordered way such that the parent of each block either can be found in an earlier notification or is the current finalized block.</p>
</li>
<li>
<p>When a new block arrives, generates a <code>newBlock</code> notification. If the new block is also the new best block of the node, also generates a <code>bestBlockChanged</code> notification.</p>
</li>
<li>
<p>When the node finalizes a block, generates a <code>finalized</code> notification indicating which blocks have been finalized and which blocks have been pruned.</p>
</li>
<li>
<p>If the node is overloaded and cannot avoid a gap in the notifications, or in case of a warp syncing, or if the maximum number of pinned blocks is reached (see below), generates a <code>stop</code> notification indicating that the subscription is now dead and must be re-created. No more notifications will be sent out on this subscription.</p>
</li>
</ul>
<p><strong>Note</strong>: This list of notifications makes it very easy for a JSON-RPC client to follow just the best block updates (listening to just <code>bestBlockChanged</code> events) or follow just the finalized block updates (listening to just <code>initialized</code> and <code>finalized</code> events). It is however not possible to easily figure out whether the runtime has been modified when these updates happen. This is not problematic, as anyone using the JSON-RPC interface naively propably doesn't need to account for runtime changes anyway.</p>
<h2 id="the-runtimeupdates-parameter"><a class="header" href="#the-runtimeupdates-parameter">The <code>runtimeUpdates</code> parameter</a></h2>
<p>If the <code>runtimeUpdates</code> parameter is <code>true</code>, then blocks shouldn't (and can't) be reported to JSON-RPC clients before the JSON-RPC server has finished obtaining the runtime specification of the blocks that it reports. This includes the finalized block reported in the <code>initialized</code> event.</p>
<p>If <code>runtimeUpdates</code> is <code>false</code>, then the <code>initialized</code> event must be sent back quickly after the function returns. If <code>runtimeUpdates</code> is <code>true</code>, then the JSON-RPC server can take as much time as it wants to send back the <code>initialized</code> event.</p>
<p>For this reason, blocks might be reported more quickly when <code>runtimeUpdates</code> is <code>false</code>.</p>
<p><strong>Note</strong>: It is unlikely that high-level UIs built on top of a JSON-RPC client can do anything before the JSON-RPC server has access to the runtime. Consequently, they should consider the time before the <code>initialized</code> event is generated as a loading time. During this loading time, the JSON-RPC server might be performing downloads and CPU-intensive operations. This loading time can be considered as a replacement for the <code>isSyncing</code> field of the legacy <code>system_health</code> JSON-RPC call.</p>
<p>If a JSON-RPC client wants to be sure to receive an <code>initialized</code> event quickly but is also interested in the runtime, it is encouraged to create two subscriptions: one with <code>runtimeUpdates: true</code> and one with <code>runtimeUpdates: false</code>.</p>
<h2 id="notifications-format"><a class="header" href="#notifications-format">Notifications format</a></h2>
<p>This function will later generate one or more notifications in the following format:</p>
<pre><code class="language-json">{
    &quot;jsonrpc&quot;: &quot;2.0&quot;,
    &quot;method&quot;: &quot;chainHead_unstable_followEvent&quot;,
    &quot;params&quot;: {
        &quot;subscriptionId&quot;: &quot;...&quot;,
        &quot;result&quot;: ...
    }
}
</code></pre>
<p>Where <code>subscriptionId</code> is the value returned by this function, and <code>result</code> can be one of:</p>
<h3 id="initialized"><a class="header" href="#initialized">initialized</a></h3>
<pre><code class="language-json">{
    &quot;event&quot;: &quot;initialized&quot;,
    &quot;finalizedBlockHash&quot;: &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;,
    &quot;finalizedBlockRuntime&quot;: ...
}
</code></pre>
<p>The <code>initialized</code> event is always the first event to be sent back, and is only ever sent back once per subscription.</p>
<p><code>finalizedBlockRuntime</code> is present if and only if <code>runtimeUpdates</code>, the parameter to this function, is <code>true</code>.</p>
<p>The format of <code>finalizedBlockRuntime</code> is described later down this page.</p>
<h3 id="newblock"><a class="header" href="#newblock">newBlock</a></h3>
<pre><code class="language-json">{
    &quot;event&quot;: &quot;newBlock&quot;,
    &quot;blockHash&quot;: &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;,
    &quot;parentBlockHash&quot;: &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;,
    &quot;newRuntime&quot;: ...
}
</code></pre>
<p>The <code>newBlock</code> indicates a new non-finalized block.</p>
<p><code>parentBlockHash</code> is guaranteed to be equal either to the current finalized block hash, or to a block reported in an earlier <code>newBlock</code> event.</p>
<p><code>newRuntime</code> must not be present if <code>runtimeUpdates</code>, the parameter to this function, is <code>false</code>. <code>newRuntime</code> must be <code>null</code> if the runtime hasn't changed compared to its parent.</p>
<p>If present and non-null, the format of <code>newRuntime</code> is the same as the <code>finalizedBlockRuntime</code> field in the <code>initialized</code> event and is explained later down this page.</p>
<h3 id="bestblockchanged"><a class="header" href="#bestblockchanged">bestBlockChanged</a></h3>
<pre><code class="language-json">{
    &quot;event&quot;: &quot;bestBlockChanged&quot;,
    &quot;bestBlockHash&quot;: &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;
}
</code></pre>
<p>The <code>bestBlockChanged</code> event indicates that the given block is now considered to be the best block.</p>
<p><code>bestBlockHash</code> is guaranteed to be equal either to the current finalized block hash, or to a block reported in an earlier <code>newBlock</code> event.</p>
<h3 id="finalized"><a class="header" href="#finalized">finalized</a></h3>
<pre><code class="language-json">{
    &quot;event&quot;: &quot;finalized&quot;,
    &quot;finalizedBlocksHashes&quot;: [
        &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;,
        &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;
    ],
    &quot;prunedBlocksHashes&quot;: [
        &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;,
        &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;
    ]
}
</code></pre>
<p>The <code>finalized</code> event indicates that some of the blocks that have earlier been reported with <code>newBlock</code> events are now either finalized or no longer relevant.</p>
<p><code>finalizedBlocksHashes</code> contains a list of blocks that are now part of the finalized block, ordered by increasing block number. The last element in this list is the current finalized block.</p>
<p><code>prunedBlocksHashes</code> contains, in no particular order, a list of blocks that are not descendants of the latest finalized block. These blocks will never be finalized and can be discarded.</p>
<p>All items in <code>finalizedBlocksHashes</code> and <code>prunedBlocksHashes</code> are guaranteed to have been reported through earlier <code>newBlock</code> events.</p>
<p>The current best block, in other words the last block reported through a <code>bestBlockChanged</code> event, is guaranteed to either be the last item in <code>finalizedBlocksHashes</code>, or to not be present in either <code>finalizedBlocksHashes</code> or <code>prunedBlocksHashes</code>.</p>
<h3 id="stop"><a class="header" href="#stop">stop</a></h3>
<pre><code class="language-json">{
    &quot;event&quot;: &quot;stop&quot;
}
</code></pre>
<p>The <code>stop</code> event indicates that the JSON-RPC server was unable to provide a consistent list of the blocks at the head of the chain. This can happen because too many blocks have been pinned, because doing so would use an unreasonable amount of memory, or because a consensus mechanism creates a gap in the chain.</p>
<p><strong>Note</strong>: In particular, warp syncing algorithms create a &quot;jump&quot; in the chain from a block to a much later block. Any subscription that is active when the warp syncing happens will receive a <code>stop</code> event.</p>
<p>No more event will be generated with this <code>subscriptionId</code>.</p>
<h2 id="pinning"><a class="header" href="#pinning">Pinning</a></h2>
<p>The current finalized block reported in the <code>initialized</code> event, and each subsequent block reported with a <code>newBlock</code> event, is automatically considered by the JSON-RPC server as <em>pinned</em>. A block is guaranteed to not leave the node's memory for as long as it is pinned, making it possible to call functions such as <code>chainHead_unstable_header</code> on it. Blocks must be unpinned by the JSON-RPC client by calling <code>chainHead_unstable_unpin</code>.</p>
<p>A block is pinned only in the context of a specific subscription. If multiple <code>chainHead_unstable_follow</code> subscriptions exist, then each <code>(subscription, block)</code> tuple must be unpinned individually. Blocks stay pinned even if they have been pruned from the blockchain, and must always be unpinned by the JSON-RPC client.</p>
<p>The JSON-RPC server is strongly encouraged to enforce a limit to the maximum number of pinned blocks. If this limit is reached, it should then stop the subscription by emitting a <code>stop</code> event. This specification does not mention any specific limit, but it should be large enough for clients to be able to pin all existing non-finalized blocks and a few finalized blocks.</p>
<p><strong>Note</strong>: A JSON-RPC client should call <code>chainHead_unstable_unpin</code> only after it is sure to no longer be interested in a certain block. This typically happens after the block has been finalized or pruned. There is no requirement to call <code>chainHead_unstable_unpin</code> as quickly as possible.</p>
<h2 id="multiple-subscriptions"><a class="header" href="#multiple-subscriptions">Multiple subscriptions</a></h2>
<p>If a JSON-RPC client maintains mutiple <code>chainHead_unstable_follow</code> subscriptions at the same time, it has no guarantee that the blocks reported by the various subscriptions are the same. While the finalized blocks reported should eventually be the same, it is possible that in the short term some subscriptions lag behind others.</p>
<p><strong>Note</strong>: For example, imagine there exists two active <code>chainHead_unstable_follow</code> subscriptions named A and B. Block N is announced on the peer-to-peer network and is announced to A. But then a sibling of block N gets finalized, leading to block N being pruned. Block N might never be announced to B.</p>
<h2 id="about-the-runtime"><a class="header" href="#about-the-runtime">About the runtime</a></h2>
<p>The format of the <code>finalizedBlockRuntime</code> and <code>newRuntime</code> fields can be one of:</p>
<h4 id="valid"><a class="header" href="#valid">valid</a></h4>
<pre><code class="language-json">{
    &quot;type&quot;: &quot;valid&quot;,
    &quot;spec&quot;: {
        &quot;specName&quot;: ...,
        &quot;implName&quot;: ...,
        &quot;authoringVersion&quot;: ...,
        &quot;specVersion&quot;: ...,
        &quot;implVersion&quot;: ...,
        &quot;transactionVersion&quot;: ...,
        &quot;apis&quot;: [...],
    }
}
</code></pre>
<p>In normal situations, the <code>type</code> is <code>valid</code>.</p>
<p>The fields of <code>spec</code> are:</p>
<ul>
<li>
<p><code>specName</code>: Opaque string indicating the name of the chain.</p>
</li>
<li>
<p><code>implName</code>: Opaque string indicating the name of the implementation of the chain.</p>
</li>
<li>
<p><code>authoringVersion</code>: Opaque integer. Used by the internals of validator nodes that use a native executor in order to be sure that their native executor matches the WebAssembly code.</p>
</li>
<li>
<p><code>specVersion</code>: Opaque integer. The JSON-RPC client can assume that the call to <code>Metadata_metadata</code> will always produce the same output as long as the <code>specVersion</code> is the same.</p>
</li>
<li>
<p><code>implVersion</code>: Opaque integer. Whenever the runtime code changes in a backwards-compatible way, the <code>implVersion</code> is modified while the <code>specVersion</code> is left untouched.</p>
</li>
<li>
<p><code>transactionVersion</code>: Opaque integer. Necessary when building the bytes of an extrinsic. Extrinsics that have been generated with a different <code>transactionVersion</code> are incompatible.</p>
</li>
<li>
<p><code>apis</code>: Object containing a list of &quot;entry point APIs&quot; supported by the runtime. Each key is a string containing the hexadecimal-encoded 8-bytes blake2 hash of the name of the API, and each value is an integer version number. Before making a runtime call (using <code>chainHead_unstable_call</code>), you should make sure that this list contains the entry point API corresponding to the call and with a known version number.</p>
</li>
</ul>
<p><strong>Note</strong>: The format of <code>apis</code> is not the same as in the legacy JSON-RPC API.</p>
<h4 id="example-value"><a class="header" href="#example-value">Example value</a></h4>
<pre><code class="language-json">{
    &quot;specName&quot;: &quot;westend&quot;,
    &quot;implName&quot;: &quot;parity-westend&quot;,
    &quot;authoringVersion&quot;: 2,
    &quot;specVersion&quot;: 9122,
    &quot;implVersion&quot;: 0,
    &quot;transactionVersion&quot;: 7,
    &quot;apis&quot;: {
        &quot;0xdf6acb689907609b&quot;: 3
        &quot;0x37e397fc7c91f5e4&quot;: 1,
        &quot;0x40fe3ad401f8959a&quot;: 5,
        &quot;0xd2bc9897eed08f15&quot;: 3,
        &quot;0xf78b278be53f454c&quot;: 2,
        &quot;0xaf2c0297a23e6d3d&quot;: 1,
        &quot;0x49eaaf1b548a0cb0&quot;: 1,
        &quot;0x91d5df18b0d2cf58&quot;: 1,
        &quot;0xed99c5acb25eedf5&quot;: 3,
        &quot;0xcbca25e39f142387&quot;: 2,
        &quot;0x687ad44ad37f03c2&quot;: 1,
        &quot;0xab3c0572291feb8b&quot;: 1,
        &quot;0xbc9d89904f5b923f&quot;: 1,
        &quot;0x37c8bb1350a9a2a8&quot;: 1
    }
}
</code></pre>
<h3 id="invalid"><a class="header" href="#invalid">invalid</a></h3>
<pre><code class="language-json">{
    &quot;type&quot;: &quot;invalid&quot;,
    &quot;error&quot;: &quot;...&quot;
}
</code></pre>
<p>The runtime is of type <code>invalid</code> if the JSON-RPC server considers the runtime as invalid, for example because the WebAssembly runtime code doesn't match its expectations.</p>
<p><code>error</code> is a human-readable string indicating why the node considers it as invalid. This string isn't meant to be shown to end users, but is for developers to understand the problem.</p>
<p><strong>Note</strong>: The typical situation where a node could consider the runtime as invalid is a light client after a warp syncing. The light client knows that it's its fault for considering the runtime as invalid, but it has no better way to handle this situation than to return an error through the JSON-RPC interface for the error to get shown to the user.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../api/chainHead_unstable_call.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../api/chainHead_unstable_genesisHash.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../api/chainHead_unstable_call.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../api/chainHead_unstable_genesisHash.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
